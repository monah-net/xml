<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="dashboardsConfig.xsd"
      id="summary_snippet">
    <v_section id="section_grid_all" width="100%">
        <h_section id="section_instance_picker_summary" height="50px" width="100%" align="TOP_LEFT">
            <separate_instance_selector id="summary_instance_selectr" width="60%" use_description_for_name="true">
                <data_source project="${project}" branch="${branch}" source="UI:dbd_summary_report" type="DataModel"/>
            </separate_instance_selector>
        </h_section>
        <h_section id="section_title_summary" height="50px" width="100%" align="TOP_LEFT">
            <v_section width="90px"/>
            <v_section>
                <static_label id="summary_label" text="Summary" style="cvh1"/>
            </v_section>
        </h_section>
        <h_section>
            <v_section width="3.5%" height="100%" align="TOP_CENTER"
                       style="button-bar-left sidebar fixed-width">
                <h_section>
                    <button style="tab-flat" image="analytics.svg" width="100%" tooltip="Summary report"
                            text="Summary&#10;&#13;Report" icon_alignment="TOP">
                        <open_page>
                            <app_page_ref page_id="summary_report" app_name="fcrs" add_condition="true"/>
                        </open_page>
                        <composite_visibility_condition/>
                    </button>
                </h_section>
                <h_section>
                    <button style="tab-flat" width="100%" image="verified.svg" text="SignOff&#10;&#13;Report"
                            icon_alignment="TOP">
                        <open_page>
                            <app_page_ref page_id="signoff_report"/>
                        </open_page>
                        <composite_visibility_condition/>
                    </button>
                </h_section>
                <h_section>
                    <button style="tab-flat" width="100%" image="bug_report.svg" text="Exception&#10;&#13;Report"
                            icon_alignment="TOP">
                        <open_page>
                            <app_page_ref page_id="exception_report"/>
                        </open_page>
                        <composite_visibility_condition/>
                    </button>
                </h_section>
                <h_section>
                    <button style="tab-flat" width="100%" image="edit.svg" text="Adjustments" icon_alignment="TOP">
                        <open_page>
                            <app_page_ref page_id="adjustment_dashboard"/>
                        </open_page>
                        <composite_visibility_condition/>
                    </button>
                </h_section>
            </v_section>
            <spacer width="1%"/>
            <v_section width="94%">
                <h_section id="section_grid_summary" height="120px" width="100%" align="TOP_LEFT">
                    <grid id="Summary" listened_data="true" height="100px">
                        <data_source project="${project}" branch="${branch}" source="UI:dbd_summary_report"
                                     type="DataModel"/>
                        <instance>
                            <instance_selector_ref reference="summary_instance_selectr"/>
                        </instance>
                        <column id="Summary_1" title="Filing ID instance" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="filing_id" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_2" title="Sender Country" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="snd_country" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_3" title="Receiver Country" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="rec_country" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_4" title="Number of Legal Entities" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="legal_entities" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_5" title="Total Accounts" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="###,###">
                                        <field_value field="acct_num_total" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_6" title="Number of Individual Accounts" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="###,###">
                                        <field_value field="acct_num_individual" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_7" title="Number of Organizational Accounts" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="###,###">
                                        <field_value field="acct_num_organizational" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_8" title="Account Balance" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component>
                                    <dynamic_caption format="###,###.##">
                                        <field_value field="acct_balance" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_9" title="Number of Substantial Owners" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component>
                                    <dynamic_caption>
                                        <field_value field="substantial_owners" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_10" title="Number of Pools" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="###,###">
                                        <field_value field="pool_number" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_11" title="Pools Balance" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="###,###.##">
                                        <field_value field="pool_balance" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Summary_12" title="Number of accounts in Pools" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="###,###">
                                        <field_value field="pool_accounts_num" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                    </grid>
                </h_section>

                <h_section width="100%" id="section_titles_customer">
                    <h_section id="section_label_customer" height="50px" width="100%" align="TOP_LEFT">
                        <static_label id="customer_label" text="Customer Details" style="cvh1"/>
                    </h_section>
                    <h_section id="section_buttons_customer_details" height="50px" width="100%" align="TOP_RIGHT">
                        <export_grid_button grid_id="Customer_Details" image="download.svg">
                            <composite_enable_condition/>
                            <composite_visibility_condition/>
                        </export_grid_button>
                        <load_all_rows_grid_button grid_id="Customer_Details">
                            <composite_enable_condition/>
                            <composite_visibility_condition/>
                        </load_all_rows_grid_button>
                    </h_section>
                </h_section>
                <h_section id="section_filter_customer" height="80px" width="100%" align="TOP_LEFT">
                    <search id="account_holder_id_search" caption="Search Account Holder ID" icon="filter.svg">
                        <composite_enable_condition/>
                    </search>
                    <dropdown id="acc_type_filter" label="Holder Type" label_position="TOP">
                        <data_source project="${project}" branch="${branch}" source="UI:dbd_summary_customer_report"
                                     type="DataModel"/>
                        <value field="holder_type" node="root"/>
                        <composite_enable_condition/>
                    </dropdown>
                </h_section>
                <h_section id="section_grid_customer" height="270px" width="100%" align="TOP_LEFT">
                    <grid id="Customer_Details" listened_data="true" show_rows="5" height="250px">
                        <data_source project="${project}" branch="${branch}" source="UI:dbd_summary_customer_report"
                                     type="DataModel"/>
                        <instance>
                            <instance_selector_ref reference="summary_instance_selectr"/>
                        </instance>
                        <filter empty_value_policy="ALL">
                            <filter_value>
                                <model_value reference="acc_type_filter" mode="raw" global="true"/>
                            </filter_value>
                            <filter_mapping operator="EQUALS" key="acc_type_filter">
                                <filter_on name="holder_type" node="root"/>
                            </filter_mapping>
                        </filter>
                        <filter>
                            <filter_value>
                                <model_value reference="account_holder_id_search"/>
                            </filter_value>
                            <filter_mapping operator="LIKE">
                                <filter_on name="acct_holder_id" node="root"/>
                            </filter_mapping>
                        </filter>
                        <selection type="SINGLE" unselectable="true" select_first_row="false">
                            <unique_id field="enumerator" node="root"/>
                            <additional_output property_path="Customer_Details_acct_holder_id">
                                <value field="acct_holder_id" node="root"/>
                            </additional_output>
                        </selection>
                        <column id="Customer_Details_1" title="Account Holder ID" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="acct_holder_id" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Customer_Details_2" title="Holder Type" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component>
                                    <dynamic_caption>
                                        <field_value field="holder_type" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Customer_Details_3" title="Legal Entity ID" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="legal_entity_id" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Customer_Details_4" title="First Name" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="first_name" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Customer_Details_5" title="Middle Name" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="middle_name" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Customer_Details_6" title="Last Name" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="last_name" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Customer_Details_7" title="Holder DOB" display="true" sort="asc" is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="dd/MMMM/yyyy">
                                        <field_value field="dob" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Customer_Details_8" title="Business Name" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="business_name" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                    </grid>
                </h_section>
                <h_section id="section_title_account" height="50px" width="100%" align="TOP_LEFT">
                    <h_section id="section_label_account" height="50px" width="100%" align="TOP_LEFT">
                        <static_label id="account_label" text="Account Details" style="cvh1"/>
                    </h_section>
                    <h_section id="section_buttons_account_details" height="50px" width="100%" align="TOP_RIGHT">
                        <export_grid_button grid_id="Account_Details" image="download.svg">
                            <composite_enable_condition/>
                            <composite_visibility_condition/>
                        </export_grid_button>
                        <load_all_rows_grid_button grid_id="Account_Details">
                            <composite_enable_condition/>
                            <composite_visibility_condition/>
                        </load_all_rows_grid_button>
                    </h_section>
                </h_section>
                <h_section id="section_grid_account" height="170px" width="100%" align="TOP_LEFT">
                    <grid id="Account_Details" listened_data="true" height="150px">
                        <data_source project="${project}" branch="${branch}" source="UI:dbd_summary_account_report"
                                     type="DataModel"/>
                        <instance>
                            <instance_selector_ref reference="summary_instance_selectr"/>
                        </instance>
                        <filter empty_value_policy="ALL">
                            <filter_value>
                                <model_value reference="Customer_Details_acct_holder_id"/>
                            </filter_value>
                            <filter_mapping>
                                <filter_on name="acct_holder_id" node="root"/>
                            </filter_mapping>
                        </filter>
                        <selection type="SINGLE" unselectable="true" select_first_row="false">
                            <unique_id field="enumerator" node="root"/>
                            <additional_output property_path="Account_Details_acct_number">
                                <value field="acct_number" node="root"/>
                            </additional_output>
                        </selection>
                        <column id="Account_Details_1" title="Account Holder ID" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="acct_holder_id" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Account_Details_2" title="Account Number" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="acct_number" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Account_Details_3" title="Legal Entity ID" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="legal_entity_id" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Account_Details_4" title="Account Type" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="acct_type" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Account_Details_5" title="Undocumented Account" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="undocumented_acct" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Account_Details_6" title="Closed Account " display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="closed_acct" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Account_Details_7" title="Dormant Account" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="dormant_acct" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Account_Details_8" title="Account Balance in Reported Currency" display="true"
                                sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="###,###.##">
                                        <field_value field="acct_balance_reported" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                    </grid>
                </h_section>
                <h_section id="section_title_income" height="50px" width="100%" align="TOP_LEFT">
                    <h_section id="section_label_income" height="50px" width="100%" align="TOP_LEFT">
                        <static_label id="income_label" text="Income Details" style="cvh1"/>
                    </h_section>
                    <h_section id="section_buttons_income_details" height="50px" width="100%" align="TOP_RIGHT">
                        <export_grid_button grid_id="Income_Details" image="download.svg">
                            <composite_enable_condition/>
                            <composite_visibility_condition/>
                        </export_grid_button>
                        <load_all_rows_grid_button grid_id="Income_Details">
                            <composite_enable_condition/>
                            <composite_visibility_condition/>
                        </load_all_rows_grid_button>
                    </h_section>
                </h_section>
                <h_section id="section_grid_income" height="270px" width="100%" align="TOP_LEFT">
                    <grid id="Income_Details" listened_data="true" height="250px">
                        <data_source project="${project}" branch="${branch}" source="UI:dbd_summary_income_report"
                                     type="DataModel"/>
                        <instance>
                            <instance_selector_ref reference="summary_instance_selectr"/>
                        </instance>
                        <filter empty_value_policy="ALL">
                            <filter_value>
                                <model_value reference="Customer_Details_acct_holder_id"/>
                            </filter_value>
                            <filter_mapping operator="EQUALS">
                                <filter_on node="root" name="acct_holder_id"/>
                            </filter_mapping>
                        </filter>
                        <filter empty_value_policy="ALL">
                            <filter_value>
                                <model_value reference="Account_Details_acct_number"/>
                            </filter_value>
                            <filter_mapping operator="EQUALS">
                                <filter_on name="acct_number" node="income"/>
                            </filter_mapping>
                        </filter>
                        <column id="Income_Details_1" title="Account Number" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="acct_number" node="root"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Income_Details_2" title="FATCA Payment Type" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="payment_type_fatca" node="income"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Income_Details_3" title="CRS Payment Type" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="payment_type_crs" node="income"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Income_Details_4" title="Payment Currency" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="payment_currency" node="income"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Income_Details_5" title="Reporting Currency" display="true" sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption>
                                        <field_value field="reporting_currency" node="income"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Income_Details_6" title="Payment Amount in original payment currency" display="true"
                                is_filtered="true"
                                sort="asc">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="###,###.##">
                                        <field_value field="payment_amount" node="income"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                        <column id="Income_Details_7" title="Payment Amount in Reported Currency" display="true"
                                sort="asc"
                                is_filtered="true">
                            <component>
                                <grid_label_component alignment="LEFT">
                                    <dynamic_caption format="###,###.##">
                                        <field_value field="payment_amount_reported" node="income"/>
                                    </dynamic_caption>
                                </grid_label_component>
                            </component>
                        </column>
                    </grid>
                </h_section>
            </v_section>
        </h_section>
    </v_section>
</page>